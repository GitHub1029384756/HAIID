{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport onSelect from \"./functions/onSelect\";\nimport alignSelect from \"./functions/alignSelect\";\nimport { marginStart, marginEnd } from \"./functions/onMargin\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SmoothPicker = function (_Component) {\n  _inherits(SmoothPicker, _Component);\n\n  var _super = _createSuper(SmoothPicker);\n\n  function SmoothPicker() {\n    var _this;\n\n    _classCallCheck(this, SmoothPicker);\n\n    _this = _super.apply(this, arguments);\n    _this.widthParent = 0;\n    _this.heightParent = 0;\n    _this.onMomentum = false;\n    _this.fingerAction = false;\n    _this.options = [];\n    _this.countItems = 0;\n    _this.refList = React.createRef();\n    _this.state = {\n      selected: _this.props.initialScrollToIndex || 1,\n      scrollPosition: null\n    };\n\n    _this._alignAfterMount = function () {\n      try {\n        var _this$props = _this.props,\n            _this$props$horizonta = _this$props.horizontal,\n            horizontal = _this$props$horizonta === void 0 ? false : _this$props$horizonta,\n            _this$props$scrollAni = _this$props.scrollAnimation,\n            scrollAnimation = _this$props$scrollAni === void 0 ? false : _this$props$scrollAni,\n            initialScrollToIndex = _this$props.initialScrollToIndex;\n\n        if (typeof initialScrollToIndex !== 'undefined') {\n          var option = _this.options[initialScrollToIndex];\n\n          if (option) {\n            alignSelect(horizontal, scrollAnimation, option, _this.refList);\n          }\n        }\n      } catch (error) {\n        console.log('error', error);\n      }\n    };\n\n    _this._save = function (i, layout, item, horizontal) {\n      var nOpt = {\n        layout: layout,\n        item: item,\n        index: i,\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0\n      };\n      _this.options[i] = nOpt;\n\n      _this.options.forEach(function (option) {\n        var index = option.index;\n\n        if (horizontal) {\n          var left = _this.options[index - 1] ? _this.options[index - 1].right : 0;\n          var right = _this.options[index - 1] ? left + _this.options[index].layout.width : _this.options[index].layout.width;\n          _this.options[index].right = right;\n          _this.options[index].left = left;\n        } else {\n          var top = _this.options[index - 1] ? _this.options[index - 1].bottom : 0;\n          var bottom = _this.options[index - 1] ? top + _this.options[index].layout.height : _this.options[index].layout.height;\n          _this.options[index].bottom = bottom;\n          _this.options[index].top = top;\n        }\n      });\n    };\n\n    _this._handleSelection = function (item, index, scrollPosition) {\n      if (_this.props.onSelected) {\n        _this.props.onSelected({\n          item: item,\n          index: index\n        });\n      }\n\n      _this.setState({\n        selected: index,\n        scrollPosition: scrollPosition\n      });\n    };\n\n    _this._renderItem = function (info) {\n      var _this$props2 = _this.props,\n          data = _this$props2.data,\n          renderItem = _this$props2.renderItem,\n          _this$props2$horizont = _this$props2.horizontal,\n          horizontal = _this$props2$horizont === void 0 ? false : _this$props2$horizont,\n          _this$props2$offsetSe = _this$props2.offsetSelection,\n          offsetSelection = _this$props2$offsetSe === void 0 ? 0 : _this$props2$offsetSe,\n          startMargin = _this$props2.startMargin,\n          endMargin = _this$props2.endMargin,\n          selectOnPress = _this$props2.selectOnPress,\n          _this$props2$styleBut = _this$props2.styleButton,\n          styleButton = _this$props2$styleBut === void 0 ? {} : _this$props2$styleBut,\n          _this$props2$activeOp = _this$props2.activeOpacityButton,\n          activeOpacityButton = _this$props2$activeOp === void 0 ? 0.2 : _this$props2$activeOp;\n      var item = info.item,\n          index = info.index;\n\n      var handlePressOnItem = function handlePressOnItem() {\n        _this._handleSelection(item, index, null);\n      };\n\n      if (!data) {\n        return null;\n      }\n\n      return _jsxs(View, {\n        onLayout: function onLayout(_ref) {\n          var layout = _ref.nativeEvent.layout;\n\n          _this._save(index, layout, item, horizontal);\n\n          if (_this.countItems === data.length - 1) {\n            _this.countItems = 0;\n\n            _this._alignAfterMount();\n          } else {\n            _this.countItems = _this.countItems + 1;\n          }\n        },\n        style: {\n          marginLeft: marginStart(horizontal, index, _this.widthParent, offsetSelection, startMargin),\n          marginRight: marginEnd(horizontal, data.length - 1, index, _this.widthParent, offsetSelection, endMargin),\n          marginTop: marginStart(!horizontal, index, _this.heightParent, offsetSelection, startMargin),\n          marginBottom: marginEnd(!horizontal, data.length - 1, index, _this.heightParent, offsetSelection, endMargin)\n        },\n        children: [renderItem && !selectOnPress && renderItem(info), renderItem && selectOnPress && _jsx(TouchableOpacity, {\n          onPress: handlePressOnItem,\n          style: styleButton,\n          activeOpacity: activeOpacityButton,\n          children: renderItem(info)\n        })]\n      }, index);\n    };\n\n    return _this;\n  }\n\n  _createClass(SmoothPicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.refFlatList) {\n        this.props.refFlatList.current = this.refList.current;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          _this$props3$horizont = _this$props3.horizontal,\n          horizontal = _this$props3$horizont === void 0 ? false : _this$props3$horizont,\n          _this$props3$magnet = _this$props3.magnet,\n          magnet = _this$props3$magnet === void 0 ? false : _this$props3$magnet,\n          _this$props3$snapInte = _this$props3.snapInterval,\n          snapInterval = _this$props3$snapInte === void 0 ? null : _this$props3$snapInte,\n          _this$props3$snapToAl = _this$props3.snapToAlignment,\n          snapToAlignment = _this$props3$snapToAl === void 0 ? 'center' : _this$props3$snapToAl,\n          _this$props3$scrollAn = _this$props3.scrollAnimation,\n          scrollAnimation = _this$props3$scrollAn === void 0 ? false : _this$props3$scrollAn;\n      var snap = {};\n\n      if (snapInterval) {\n        snap = {\n          snapToInterval: snapInterval,\n          snapToAlignment: snapToAlignment\n        };\n      }\n\n      return _jsx(FlatList, _objectSpread(_objectSpread(_objectSpread({}, this.props), snap), {}, {\n        onLayout: function onLayout(_ref2) {\n          var layout = _ref2.nativeEvent.layout;\n          _this2.widthParent = layout.width;\n          _this2.heightParent = layout.height;\n        },\n        onScroll: function onScroll(_ref3) {\n          var nativeEvent = _ref3.nativeEvent;\n\n          if (_this2.fingerAction) {\n            onSelect(nativeEvent, _this2.state.selected, _this2.options, _this2._handleSelection, _this2.state.scrollPosition, horizontal);\n          }\n        },\n        getItemLayout: function getItemLayout(_, index) {\n          var itemLayout;\n\n          if (snapInterval) {\n            itemLayout = {\n              length: snapInterval,\n              offset: snapInterval * index,\n              index: index\n            };\n          } else {\n            itemLayout = {\n              length: _this2.options[index] ? horizontal ? _this2.options[index].layout.width : _this2.options[index].layout.height : 30,\n              offset: _this2.options[index] ? horizontal ? _this2.options[index].left : _this2.options[index].top : 30 * index,\n              index: index\n            };\n          }\n\n          return itemLayout;\n        },\n        onScrollBeginDrag: function onScrollBeginDrag() {\n          _this2.onMomentum = true;\n          _this2.fingerAction = true;\n        },\n        onMomentumScrollEnd: function onMomentumScrollEnd() {\n          _this2.fingerAction = false;\n\n          if (_this2.onMomentum && magnet && !snapInterval) {\n            _this2.onMomentum = false;\n            alignSelect(horizontal, scrollAnimation, _this2.options[_this2.state.selected], _this2.refList);\n          }\n        },\n        renderItem: this._renderItem,\n        ref: this.refList\n      }));\n    }\n  }]);\n\n  return SmoothPicker;\n}(Component);\n\nexport default SmoothPicker;","map":{"version":3,"sources":["C:/Users/ryanj/Desktop/HAIID/node_modules/react-native-smooth-picker/build/SmoothPicker.js"],"names":["React","Component","onSelect","alignSelect","marginStart","marginEnd","SmoothPicker","arguments","widthParent","heightParent","onMomentum","fingerAction","options","countItems","refList","createRef","state","selected","props","initialScrollToIndex","scrollPosition","_alignAfterMount","horizontal","scrollAnimation","option","error","console","log","_save","i","layout","item","nOpt","index","top","bottom","left","right","forEach","width","height","_handleSelection","onSelected","setState","_renderItem","info","data","renderItem","offsetSelection","startMargin","endMargin","selectOnPress","styleButton","activeOpacityButton","handlePressOnItem","nativeEvent","length","marginLeft","marginRight","marginTop","marginBottom","refFlatList","current","magnet","snapInterval","snapToAlignment","snap","snapToInterval","_","itemLayout","offset"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { View, FlatList, TouchableOpacity, } from 'react-native';\nimport onSelect from './functions/onSelect';\nimport alignSelect from './functions/alignSelect';\nimport { marginStart, marginEnd } from './functions/onMargin';\nclass SmoothPicker extends Component {\n    constructor() {\n        super(...arguments);\n        this.widthParent = 0;\n        this.heightParent = 0;\n        this.onMomentum = false;\n        this.fingerAction = false;\n        this.options = [];\n        this.countItems = 0;\n        this.refList = React.createRef();\n        this.state = {\n            selected: this.props.initialScrollToIndex || 1,\n            scrollPosition: null,\n        };\n        this._alignAfterMount = () => {\n            try {\n                const { horizontal = false, scrollAnimation = false, initialScrollToIndex, } = this.props;\n                if (typeof initialScrollToIndex !== 'undefined') {\n                    const option = this.options[initialScrollToIndex];\n                    if (option) {\n                        alignSelect(horizontal, scrollAnimation, option, this.refList);\n                    }\n                }\n            }\n            catch (error) {\n                console.log('error', error);\n            }\n        };\n        this._save = (i, layout, item, horizontal) => {\n            const nOpt = {\n                layout,\n                item,\n                index: i,\n                top: 0,\n                bottom: 0,\n                left: 0,\n                right: 0,\n            };\n            this.options[i] = nOpt;\n            this.options.forEach(option => {\n                const { index } = option;\n                if (horizontal) {\n                    let left = this.options[index - 1] ? this.options[index - 1].right : 0;\n                    let right = this.options[index - 1]\n                        ? left + this.options[index].layout.width\n                        : this.options[index].layout.width;\n                    this.options[index].right = right;\n                    this.options[index].left = left;\n                }\n                else {\n                    let top = this.options[index - 1] ? this.options[index - 1].bottom : 0;\n                    let bottom = this.options[index - 1]\n                        ? top + this.options[index].layout.height\n                        : this.options[index].layout.height;\n                    this.options[index].bottom = bottom;\n                    this.options[index].top = top;\n                }\n            });\n        };\n        this._handleSelection = (item, index, scrollPosition) => {\n            if (this.props.onSelected) {\n                this.props.onSelected({ item, index });\n            }\n            this.setState({\n                selected: index,\n                scrollPosition: scrollPosition,\n            });\n        };\n        this._renderItem = (info) => {\n            const { data, renderItem, horizontal = false, offsetSelection = 0, startMargin, endMargin, selectOnPress, styleButton = {}, activeOpacityButton = 0.2, } = this.props;\n            const { item, index } = info;\n            const handlePressOnItem = () => {\n                this._handleSelection(item, index, null);\n            };\n            if (!data) {\n                return null;\n            }\n            return (<View key={index} onLayout={({ nativeEvent: { layout } }) => {\n                this._save(index, layout, item, horizontal);\n                if (this.countItems === data.length - 1) {\n                    this.countItems = 0;\n                    this._alignAfterMount();\n                }\n                else {\n                    this.countItems = this.countItems + 1;\n                }\n            }} style={{\n                marginLeft: marginStart(horizontal, index, this.widthParent, offsetSelection, startMargin),\n                marginRight: marginEnd(horizontal, data.length - 1, index, this.widthParent, offsetSelection, endMargin),\n                marginTop: marginStart(!horizontal, index, this.heightParent, offsetSelection, startMargin),\n                marginBottom: marginEnd(!horizontal, data.length - 1, index, this.heightParent, offsetSelection, endMargin),\n            }}>\n        {renderItem && !selectOnPress && renderItem(info)}\n        {renderItem && selectOnPress && (<TouchableOpacity onPress={handlePressOnItem} style={styleButton} activeOpacity={activeOpacityButton}>\n            {renderItem(info)}\n          </TouchableOpacity>)}\n      </View>);\n        };\n    }\n    componentDidMount() {\n        if (this.props.refFlatList) {\n            this.props.refFlatList.current = this.refList.current;\n        }\n    }\n    render() {\n        const { horizontal = false, magnet = false, snapInterval = null, snapToAlignment = 'center', scrollAnimation = false, } = this.props;\n        let snap = {};\n        if (snapInterval) {\n            snap = {\n                snapToInterval: snapInterval,\n                snapToAlignment: snapToAlignment,\n            };\n        }\n        return (<FlatList {...this.props} {...snap} onLayout={({ nativeEvent: { layout } }) => {\n            this.widthParent = layout.width;\n            this.heightParent = layout.height;\n        }} onScroll={({ nativeEvent }) => {\n            if (this.fingerAction) {\n                onSelect(nativeEvent, this.state.selected, this.options, this._handleSelection, this.state.scrollPosition, horizontal);\n            }\n        }} getItemLayout={(_, index) => {\n            let itemLayout;\n            if (snapInterval) {\n                itemLayout = {\n                    length: snapInterval,\n                    offset: snapInterval * index,\n                    index,\n                };\n            }\n            else {\n                itemLayout = {\n                    length: this.options[index]\n                        ? horizontal\n                            ? this.options[index].layout.width\n                            : this.options[index].layout.height\n                        : 30,\n                    offset: this.options[index]\n                        ? horizontal\n                            ? this.options[index].left\n                            : this.options[index].top\n                        : 30 * index,\n                    index,\n                };\n            }\n            return itemLayout;\n        }} onScrollBeginDrag={() => {\n            this.onMomentum = true;\n            this.fingerAction = true;\n        }} onMomentumScrollEnd={() => {\n            this.fingerAction = false;\n            if (this.onMomentum && magnet && !snapInterval) {\n                this.onMomentum = false;\n                alignSelect(horizontal, scrollAnimation, this.options[this.state.selected], this.refList);\n            }\n        }} renderItem={this._renderItem} ref={this.refList}/>);\n    }\n}\nexport default SmoothPicker;\n"]},"metadata":{},"sourceType":"module"}